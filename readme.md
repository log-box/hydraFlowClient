# Hydra Flow Client

**Hydra Flow Client** ‚Äî —ç—Ç–æ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å HTML/JS-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è OAuth2/OIDC-—Ñ–ª–æ—É —á–µ—Ä–µ–∑ ORY Hydra. –ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –≤—Ö–æ–¥–∞, —Å–æ–≥–ª–∞—Å–∏—è –∏ –≤—ã—Ö–æ–¥–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ "–Ω–∞ –ª–µ—Ç—É" —á–µ—Ä–µ–∑ UI. –ó–∞–º–µ–Ω—è–µ—Ç Postman –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å Hydra –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø–µ—Ä–µ–¥–∞—á–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤.

---

## ‚öôÔ∏è –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

* UI + backend –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ `authorization_code` —Ñ–ª–æ—É –≤ Hydra
* –í–≤–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ª–æ–≥–∏–Ω–∞/–∫–æ–Ω—Å–µ–Ω—Ç–∞ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ HTML-—Ñ–æ—Ä–º—ã
* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ (JWT)
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—à–∏–±–æ–∫ `error`/`error_description` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–∫–∞–∑–æ–≤
* –í–∞—Ä–∏–∞—Ç–∏–≤–Ω—ã–µ redirect-uri –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

---

## üì¶ –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –£–°–¢–ê–ù–û–í–ö–ï

### üìÅ –®–∞–≥ 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
git clone https://github.com/log-box/hydraFlowClient.git
cd hydraFlowClient
```

---

### ‚öôÔ∏è –®–∞–≥ 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `.env`

–°–æ–∑–¥–∞–π—Ç–µ `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É—è—Å—å –Ω–∞ `.env.template`.

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ:

```ini
# –í–Ω–µ—à–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ (—Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
HYDRA_PUBLIC_URL=https://hydra.example.com
CLIENT_REDIRECT_URL=http://localhost:3000/callback
CLIENT_FRONT_URL=http://localhost:3000

# –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã
HOST_PORT=3000
```

–ü–æ—è—Å–Ω–µ–Ω–∏–µ:

* `HYDRA_PUBLIC_URL` ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π –∞–¥—Ä–µ—Å ORY Hydra (–¥–æ—Å—Ç—É–ø–Ω—ã–π –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞).
* `CLIENT_REDIRECT_URL` ‚Äî –∞–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π Hydra —Å–¥–µ–ª–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ login/consent.
* `CLIENT_FRONT_URL` ‚Äî –∞–¥—Ä–µ—Å —Å–∞–º–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞).
* `HOST_PORT` ‚Äî –ø–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω frontend (localhost:3000).

---

### üê≥ –®–∞–≥ 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose v2+

–ü—Ä–æ–≤–µ—Ä—å –≤–µ—Ä—Å–∏—é:

```bash
docker compose version
```

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –∏–ª–∏ –≤–µ—Ä—Å–∏—è –Ω–∏–∂–µ 2.x:

**–î–ª—è Linux (—Å systemd):**

```bash
sudo apt-get update
sudo apt-get install docker-compose-plugin
```

–ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
docker compose version
```

---

### ‚ñ∂Ô∏è –®–∞–≥ 4. –ó–∞–ø—É—Å–∫

```bash
docker compose up --build
```

---

### ‚úÖ –®–∞–≥ 5. –û—Ç–∫—Ä—ã—Ç–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:3000
```
